/*! For license information please see npm.polybooljs.43526086.js.LICENSE.txt */
(self.webpackChunkwellcast=self.webpackChunkwellcast||[]).push([[77],{95198:(e,n,t)=>{var r,o=t(86919),i=t(18026),l=t(81624),s=t(32759),a=t(72557),u=t(88485),c=!1,f=i();function g(e,n,t){var o=r.segments(e),i=r.segments(n),l=t(r.combine(o,i));return r.polygon(l)}r={buildLog:function(e){return!0===e?c=o():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var n=l(!0,f,c);return e.regions.forEach(n.addRegion),{segments:n.calculate(e.inverted),inverted:e.inverted}},combine:function(e,n){return{combined:l(!1,f,c).calculate(e.segments,e.inverted,n.segments,n.inverted),inverted1:e.inverted,inverted2:n.inverted}},selectUnion:function(e){return{segments:a.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:a.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:a.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:a.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:a.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,f,e)},union:function(e,n){return g(e,n,r.selectUnion)},intersect:function(e,n){return g(e,n,r.selectIntersect)},difference:function(e,n){return g(e,n,r.selectDifference)},differenceRev:function(e,n){return g(e,n,r.selectDifferenceRev)},xor:function(e,n){return g(e,n,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),e.exports=r},86919:e=>{e.exports=function(){var e,n=0,t=!1;function r(n,t){return e.list.push({type:n,data:t?JSON.parse(JSON.stringify(t)):void 0}),e}return e={list:[],segmentId:function(){return n++},checkIntersection:function(e,n){return r("check",{seg1:e,seg2:n})},segmentChop:function(e,n){return r("div_seg",{seg:e,pt:n}),r("chop",{seg:e,pt:n})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,n){return r("new_seg",{seg:e,primary:n})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,n,t){return r("temp_status",{seg:e,above:n,below:t})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,n,t){return r("status",{seg:e,above:n,below:t})},vert:function(n){return n===t?e:(t=n,r("vert",{x:n}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,n){return r("chain_rem_head",{index:e,pt:n})},chainRemoveTail:function(e,n){return r("chain_rem_tail",{index:e,pt:n})},chainNew:function(e,n){return r("chain_new",{pt1:e,pt2:n})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,n){return r("chain_add_head",{index:e,pt:n})},chainAddTail:function(e,n){return r("chain_add_tail",{index:e,pt:n})},chainConnect:function(e,n){return r("chain_con",{index1:e,index2:n})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,n){return r("chain_join",{index1:e,index2:n})},done:function(){return r("done")}}}},18026:e=>{e.exports=function(e){"number"!=typeof e&&(e=1e-10);var n={epsilon:function(n){return"number"==typeof n&&(e=n),e},pointAboveOrOnLine:function(n,t,r){var o=t[0],i=t[1],l=r[0],s=r[1],a=n[0];return(l-o)*(n[1]-i)-(s-i)*(a-o)>=-e},pointBetween:function(n,t,r){var o=n[1]-t[1],i=r[0]-t[0],l=n[0]-t[0],s=r[1]-t[1],a=l*i+o*s;return!(a<e||a-(i*i+s*s)>-e)},pointsSameX:function(n,t){return Math.abs(n[0]-t[0])<e},pointsSameY:function(n,t){return Math.abs(n[1]-t[1])<e},pointsSame:function(e,t){return n.pointsSameX(e,t)&&n.pointsSameY(e,t)},pointsCompare:function(e,t){return n.pointsSameX(e,t)?n.pointsSameY(e,t)?0:e[1]<t[1]?-1:1:e[0]<t[0]?-1:1},pointsCollinear:function(n,t,r){var o=n[0]-t[0],i=n[1]-t[1],l=t[0]-r[0],s=t[1]-r[1];return Math.abs(o*s-l*i)<e},linesIntersect:function(n,t,r,o){var i=t[0]-n[0],l=t[1]-n[1],s=o[0]-r[0],a=o[1]-r[1],u=i*a-l*s;if(Math.abs(u)<e)return!1;var c=n[0]-r[0],f=n[1]-r[1],g=(s*f-a*c)/u,d=(i*f-l*c)/u,v={alongA:0,alongB:0,pt:[n[0]+g*i,n[1]+g*l]};return v.alongA=g<=-e?-2:g<e?-1:g-1<=-e?0:g-1<e?1:2,v.alongB=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,v},pointInsideRegion:function(n,t){for(var r=n[0],o=n[1],i=t[t.length-1][0],l=t[t.length-1][1],s=!1,a=0;a<t.length;a++){var u=t[a][0],c=t[a][1];c-o>e!=l-o>e&&(i-u)*(o-c)/(l-c)+u-r>e&&(s=!s),i=u,l=c}return s}};return n}},88485:e=>{var n={toPolygon:function(e,n){function t(n){if(n.length<=0)return e.segments({inverted:!1,regions:[]});function t(n){var t=n.slice(0,n.length-1);return e.segments({inverted:!1,regions:[t]})}for(var r=t(n[0]),o=1;o<n.length;o++)r=e.selectDifference(e.combine(r,t(n[o])));return r}if("Polygon"===n.type)return e.polygon(t(n.coordinates));if("MultiPolygon"===n.type){for(var r=e.segments({inverted:!1,regions:[]}),o=0;o<n.coordinates.length;o++)r=e.selectUnion(e.combine(r,t(n.coordinates[o])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,n,t){function r(e,t){return n.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],t)}function o(e){return{region:e,children:[]}}t=e.polygon(e.segments(t));var i=o(null);function l(e,n){for(var t=0;t<e.children.length;t++)if(r(n,(s=e.children[t]).region))return void l(s,n);var i=o(n);for(t=0;t<e.children.length;t++){var s;r((s=e.children[t]).region,n)&&(i.children.push(s),e.children.splice(t,1),t--)}e.children.push(i)}for(var s=0;s<t.regions.length;s++){var a=t.regions[s];a.length<3||l(i,a)}function u(e,n){for(var t=0,r=e[e.length-1][0],o=e[e.length-1][1],i=[],l=0;l<e.length;l++){var s=e[l][0],a=e[l][1];i.push([s,a]),t+=a*r-s*o,r=s,o=a}return t<0!==n&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var c=[];function f(e){var n=[u(e.region,!1)];c.push(n);for(var t=0;t<e.children.length;t++)n.push(g(e.children[t]))}function g(e){for(var n=0;n<e.children.length;n++)f(e.children[n]);return u(e.region,!0)}for(s=0;s<i.children.length;s++)f(i.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};e.exports=n},81624:(e,n,t)=>{var r=t(5488);e.exports=function(e,n,t){function o(e,n,r){return{id:t?t.segmentId():-1,start:e,end:n,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var i=r.create();function l(e,t){i.insertBefore(e,(function(r){return o=e.isStart,i=e.pt,l=t,s=r.isStart,a=r.pt,u=r.other.pt,(0!==(c=n.pointsCompare(i,a))?c:n.pointsSame(l,u)?0:o!==s?o?1:-1:n.pointAboveOrOnLine(l,s?a:u,s?u:a)?1:-1)<0;var o,i,l,s,a,u,c}))}function s(e,n){var t=function(e,n){var t=r.node({isStart:!0,pt:e.start,seg:e,primary:n,other:null,status:null});return l(t,e.end),t}(e,n);return function(e,n,t){var o=r.node({isStart:!1,pt:n.end,seg:n,primary:t,other:e,status:null});e.other=o,l(o,e.pt)}(t,e,n),t}function a(e,n){var r=o(n,e.seg.end,e.seg);return function(e,n){t&&t.segmentChop(e.seg,n),e.other.remove(),e.seg.end=n,e.other.pt=n,l(e.other,e.pt)}(e,n),s(r,e.primary)}function u(o,l){var s=r.create();function u(e){return s.findTransition((function(t){var r,o,i,l,s,a;return r=e,o=t.ev,i=r.seg.start,l=r.seg.end,s=o.seg.start,a=o.seg.end,(n.pointsCollinear(i,s,a)?n.pointsCollinear(l,s,a)||n.pointAboveOrOnLine(l,s,a)?1:-1:n.pointAboveOrOnLine(i,s,a)?1:-1)>0}))}function c(e,r){var o=e.seg,i=r.seg,l=o.start,s=o.end,u=i.start,c=i.end;t&&t.checkIntersection(o,i);var f=n.linesIntersect(l,s,u,c);if(!1===f){if(!n.pointsCollinear(l,s,u))return!1;if(n.pointsSame(l,c)||n.pointsSame(s,u))return!1;var g=n.pointsSame(l,u),d=n.pointsSame(s,c);if(g&&d)return r;var v=!g&&n.pointBetween(l,u,c),h=!d&&n.pointBetween(s,u,c);if(g)return h?a(r,s):a(e,c),r;v&&(d||(h?a(r,s):a(e,c)),a(r,l))}else 0===f.alongA&&(-1===f.alongB?a(e,u):0===f.alongB?a(e,f.pt):1===f.alongB&&a(e,c)),0===f.alongB&&(-1===f.alongA?a(r,l):0===f.alongA?a(r,f.pt):1===f.alongA&&a(r,s));return!1}for(var f=[];!i.isEmpty();){var g=i.getHead();if(t&&t.vert(g.pt[0]),g.isStart){t&&t.segmentNew(g.seg,g.primary);var d=u(g),v=d.before?d.before.ev:null,h=d.after?d.after.ev:null;function p(){if(v){var e=c(g,v);if(e)return e}return!!h&&c(g,h)}t&&t.tempStatus(g.seg,!!v&&v.seg,!!h&&h.seg);var m,y,b=p();if(b)e?(y=null===g.seg.myFill.below||g.seg.myFill.above!==g.seg.myFill.below)&&(b.seg.myFill.above=!b.seg.myFill.above):b.seg.otherFill=g.seg.myFill,t&&t.segmentUpdate(b.seg),g.other.remove(),g.remove();if(i.getHead()!==g){t&&t.rewind(g.seg);continue}e?(y=null===g.seg.myFill.below||g.seg.myFill.above!==g.seg.myFill.below,g.seg.myFill.below=h?h.seg.myFill.above:o,g.seg.myFill.above=y?!g.seg.myFill.below:g.seg.myFill.below):null===g.seg.otherFill&&(m=h?g.primary===h.primary?h.seg.otherFill.above:h.seg.myFill.above:g.primary?l:o,g.seg.otherFill={above:m,below:m}),t&&t.status(g.seg,!!v&&v.seg,!!h&&h.seg),g.other.status=d.insert(r.node({ev:g}))}else{var x=g.status;if(null===x)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(x.prev)&&s.exists(x.next)&&c(x.prev.ev,x.next.ev),t&&t.statusRemove(x.ev.seg),x.remove(),!g.primary){var w=g.seg.myFill;g.seg.myFill=g.seg.otherFill,g.seg.otherFill=w}f.push(g.seg)}i.getHead().remove()}return t&&t.done(),f}return e?{addRegion:function(e){for(var r,o,i,l=e[e.length-1],a=0;a<e.length;a++){r=l,l=e[a];var u=n.pointsCompare(r,l);0!==u&&s((o=u<0?r:l,i=u<0?l:r,{id:t?t.segmentId():-1,start:o,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return u(e,!1)}}:{calculate:function(e,n,t,r){return e.forEach((function(e){s(o(e.start,e.end,e),!0)})),t.forEach((function(e){s(o(e.start,e.end,e),!1)})),u(n,r)}}}},5488:e=>{e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(n){return null!==n&&n!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(n,t){for(var r=e.root,o=e.root.next;null!==o;){if(t(o))return n.prev=o.prev,n.next=o,o.prev.next=n,void(o.prev=n);r=o,o=o.next}r.next=n,n.prev=r,n.next=null},findTransition:function(n){for(var t=e.root,r=e.root.next;null!==r&&!n(r);)t=r,r=r.next;return{before:t===e.root?null:t,after:r,insert:function(e){return e.prev=t,e.next=r,t.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},32759:(e,n,t)=>{var r=t(25108);e.exports=function(e,n,t){var o=[],i=[];return e.forEach((function(e){var l=e.start,s=e.end;if(n.pointsSame(l,s))r.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{t&&t.chainStart(e);for(var a={index:0,matches_head:!1,matches_pt1:!1},u={index:0,matches_head:!1,matches_pt1:!1},c=a,f=0;f<o.length;f++){var g=(m=o[f])[0],d=(m[1],m[m.length-1]);if(m[m.length-2],n.pointsSame(g,l)){if(R(f,!0,!0))break}else if(n.pointsSame(g,s)){if(R(f,!0,!1))break}else if(n.pointsSame(d,l)){if(R(f,!1,!0))break}else if(n.pointsSame(d,s)&&R(f,!1,!1))break}if(c===a)return o.push([l,s]),void(t&&t.chainNew(l,s));if(c===u){t&&t.chainMatch(a.index);var v=a.index,h=a.matches_pt1?s:l,p=a.matches_head,m=o[v],y=p?m[0]:m[m.length-1],b=p?m[1]:m[m.length-2],x=p?m[m.length-1]:m[0],w=p?m[m.length-2]:m[1];return n.pointsCollinear(b,y,h)&&(p?(t&&t.chainRemoveHead(a.index,h),m.shift()):(t&&t.chainRemoveTail(a.index,h),m.pop()),y=b),n.pointsSame(x,h)?(o.splice(v,1),n.pointsCollinear(w,x,y)&&(p?(t&&t.chainRemoveTail(a.index,y),m.pop()):(t&&t.chainRemoveHead(a.index,y),m.shift())),t&&t.chainClose(a.index),void i.push(m)):void(p?(t&&t.chainAddHead(a.index,h),m.unshift(h)):(t&&t.chainAddTail(a.index,h),m.push(h)))}var F=a.index,S=u.index;t&&t.chainConnect(F,S);var _=o[F].length<o[S].length;a.matches_head?u.matches_head?_?(C(F),B(F,S)):(C(S),B(S,F)):B(S,F):u.matches_head?B(F,S):_?(C(F),B(S,F)):(C(S),B(F,S))}function R(e,n,t){return c.index=e,c.matches_head=n,c.matches_pt1=t,c===a?(c=u,!1):(c=null,!0)}function C(e){t&&t.chainReverse(e),o[e].reverse()}function B(e,r){var i=o[e],l=o[r],s=i[i.length-1],a=i[i.length-2],u=l[0],c=l[1];n.pointsCollinear(a,s,u)&&(t&&t.chainRemoveTail(e,s),i.pop(),s=a),n.pointsCollinear(s,u,c)&&(t&&t.chainRemoveHead(r,u),l.shift()),t&&t.chainJoin(e,r),o[e]=i.concat(l),o.splice(r,1)}})),i}},72557:e=>{function n(e,n,t){var r=[];return e.forEach((function(e){var o=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==n[o]&&r.push({id:t?t.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===n[o],below:2===n[o]},otherFill:null})})),t&&t.selected(r),r}var t={union:function(e,t){return n(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return n(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return n(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return n(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return n(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=t}}]);
//# sourceMappingURL=npm.polybooljs.43526086.js.map